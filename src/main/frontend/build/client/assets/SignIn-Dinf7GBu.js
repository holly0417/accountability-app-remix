import{a as l,p as t,q as Ce,A as be,x as we}from"./chunk-UIGDSWPH-CWV2moXJ.js";import{e as ke,g as ye,a as Se,b as ve,D as je,c as Ee,A as Pe,L as Te}from"./ClickAwayListener-CXjcG5eZ.js";import{h as z,l as B,m as R,n as b,c as N,f as A,S as L,N as De,at as Me,$ as v,ae as Le,E as K,az as V,P as Fe,p as _,as as X,D as Re,F as M,a8 as Ae,o as F,Z as Oe,X as Ie,b2 as Ue,b3 as ze,a2 as Z,aj as J,b4 as Q,ak as Y,aS as Be,aA as Ne,a0 as He}from"./AppTheme-DPM2vphI.js";import{a as We,u as $e,C as Ge,S as qe,G as Ke,F as Ve}from"./index.esm-C4co_d6R.js";import"./index-DLbWTTrN.js";function Xe(e){return z("MuiDialogContentText",e)}B("MuiDialogContentText",["root"]);const Ze=e=>{const{classes:o}=e,r=A({root:["root"]},Xe,o);return{...o,...r}},Je=b(L,{shouldForwardProp:e=>De(e)||e==="classes",name:"MuiDialogContentText",slot:"Root"})({}),Qe=l.forwardRef(function(o,n){const r=R({props:o,name:"MuiDialogContentText"}),{children:i,className:u,...c}=r,d=Ze(c);return t.jsx(Je,{component:"p",variant:"body1",color:"textSecondary",ref:n,ownerState:c,className:N(d.root,u),...r,classes:d})}),Ye=e=>{const{classes:o}=e;return A({root:["root"]},ye,o)},_e=b(L,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),et=l.forwardRef(function(o,n){const r=R({props:o,name:"MuiDialogTitle"}),{className:i,id:u,...c}=r,d=r,p=Ye(d),{titleId:m=u}=l.useContext(ke);return t.jsx(_e,{component:"h2",className:N(p.root,i),ownerState:d,ref:n,variant:"h6",id:u??m,...c})});function tt({open:e,handleClose:o}){return t.jsxs(Se,{open:e,onClose:o,slotProps:{paper:{component:"form",onSubmit:n=>{n.preventDefault(),o()},sx:{backgroundImage:"none"}}},children:[t.jsx(et,{children:"Reset password"}),t.jsxs(ve,{sx:{display:"flex",flexDirection:"column",gap:2,width:"100%"},children:[t.jsx(Qe,{children:"Enter your account's email address, and we'll send you a link to reset your password."}),t.jsx(Me,{autoFocus:!0,required:!0,margin:"dense",id:"email",name:"email",label:"Email address",placeholder:"Email address",type:"email",fullWidth:!0})]}),t.jsxs(je,{sx:{pb:3,px:3},children:[t.jsx(v,{onClick:o,children:"Cancel"}),t.jsx(v,{variant:"contained",type:"submit",children:"Continue"})]})]})}const ot=We.create({baseURL:"http://localhost:8080/api",withCredentials:!0});function nt(e={}){const{autoHideDuration:o=null,disableWindowBlurListener:n=!1,onClose:r,open:i,resumeHideDuration:u}=e,c=Le();l.useEffect(()=>{if(!i)return;function s(a){a.defaultPrevented||a.key==="Escape"&&r?.(a,"escapeKeyDown")}return document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)}},[i,r]);const d=K((s,a)=>{r?.(s,a)}),p=K(s=>{!r||s==null||c.start(s,()=>{d(null,"timeout")})});l.useEffect(()=>(i&&p(o),c.clear),[i,o,p,c]);const m=s=>{r?.(s,"clickaway")},g=c.clear,f=l.useCallback(()=>{o!=null&&p(u??o*.5)},[o,u,p]),y=s=>a=>{const h=s.onBlur;h?.(a),f()},j=s=>a=>{const h=s.onFocus;h?.(a),g()},S=s=>a=>{const h=s.onMouseEnter;h?.(a),g()},E=s=>a=>{const h=s.onMouseLeave;h?.(a),f()};return l.useEffect(()=>{if(!n&&i)return window.addEventListener("focus",f),window.addEventListener("blur",g),()=>{window.removeEventListener("focus",f),window.removeEventListener("blur",g)}},[n,i,f,g]),{getRootProps:(s={})=>{const a={...V(e),...V(s)};return{role:"presentation",...s,...a,onBlur:y(a),onFocus:j(a),onMouseEnter:S(a),onMouseLeave:E(a)}},onClickAway:m}}function st(e){return z("MuiSnackbarContent",e)}B("MuiSnackbarContent",["root","message","action"]);const rt=e=>{const{classes:o}=e;return A({root:["root"],action:["action"],message:["message"]},st,o)},at=b(Fe,{name:"MuiSnackbarContent",slot:"Root"})(_(({theme:e})=>{const o=e.palette.mode==="light"?.8:.98;return{...e.typography.body2,color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText(X(e.palette.background.default,o)),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:X(e.palette.background.default,o),display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}}})),it=b("div",{name:"MuiSnackbarContent",slot:"Message"})({padding:"8px 0"}),lt=b("div",{name:"MuiSnackbarContent",slot:"Action"})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),ct=l.forwardRef(function(o,n){const r=R({props:o,name:"MuiSnackbarContent"}),{action:i,className:u,message:c,role:d="alert",...p}=r,m=r,g=rt(m);return t.jsxs(at,{role:d,elevation:6,className:N(g.root,u),ownerState:m,ref:n,...p,children:[t.jsx(it,{className:g.message,ownerState:m,children:c}),i?t.jsx(lt,{className:g.action,ownerState:m,children:i}):null]})});function ut(e){return z("MuiSnackbar",e)}B("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const dt=e=>{const{classes:o,anchorOrigin:n}=e,r={root:["root",`anchorOrigin${F(n.vertical)}${F(n.horizontal)}`]};return A(r,ut,o)},pt=b("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:n}=e;return[o.root,o[`anchorOrigin${F(n.anchorOrigin.vertical)}${F(n.anchorOrigin.horizontal)}`]]}})(_(({theme:e})=>({zIndex:(e.vars||e).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",variants:[{props:({ownerState:o})=>o.anchorOrigin.vertical==="top",style:{top:8,[e.breakpoints.up("sm")]:{top:24}}},{props:({ownerState:o})=>o.anchorOrigin.vertical!=="top",style:{bottom:8,[e.breakpoints.up("sm")]:{bottom:24}}},{props:({ownerState:o})=>o.anchorOrigin.horizontal==="left",style:{justifyContent:"flex-start",[e.breakpoints.up("sm")]:{left:24,right:"auto"}}},{props:({ownerState:o})=>o.anchorOrigin.horizontal==="right",style:{justifyContent:"flex-end",[e.breakpoints.up("sm")]:{right:24,left:"auto"}}},{props:({ownerState:o})=>o.anchorOrigin.horizontal==="center",style:{[e.breakpoints.up("sm")]:{left:"50%",right:"auto",transform:"translateX(-50%)"}}}]}))),gt=l.forwardRef(function(o,n){const r=R({props:o,name:"MuiSnackbar"}),i=Re(),u={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:c,anchorOrigin:{vertical:d,horizontal:p}={vertical:"bottom",horizontal:"left"},autoHideDuration:m=null,children:g,className:f,ClickAwayListenerProps:y,ContentProps:j,disableWindowBlurListener:S=!1,message:E,onBlur:O,onClose:s,onFocus:a,onMouseEnter:h,onMouseLeave:P,open:T,resumeHideDuration:I,slots:w={},slotProps:U={},TransitionComponent:H,transitionDuration:W=u,TransitionProps:{onEnter:$,onExited:G,...ee}={},...te}=r,k={...r,anchorOrigin:{vertical:d,horizontal:p},autoHideDuration:m,disableWindowBlurListener:S,TransitionComponent:H,transitionDuration:W},oe=dt(k),{getRootProps:ne,onClickAway:se}=nt({...k}),[re,q]=l.useState(!0),ae=C=>{q(!0),G&&G(C)},ie=(C,x)=>{q(!1),$&&$(C,x)},D={slots:{transition:H,...w},slotProps:{content:j,clickAwayListener:y,transition:ee,...U}},[le,ce]=M("root",{ref:n,className:[oe.root,f],elementType:pt,getSlotProps:ne,externalForwardedProps:{...D,...te},ownerState:k}),[ue,{ownerState:de,...pe}]=M("clickAwayListener",{elementType:Ee,externalForwardedProps:D,getSlotProps:C=>({onClickAway:(...x)=>{const fe=x[0];C.onClickAway?.(...x),!fe?.defaultMuiPrevented&&se(...x)}}),ownerState:k}),[ge,me]=M("content",{elementType:ct,shouldForwardComponentProp:!0,externalForwardedProps:D,additionalProps:{message:E,action:c},ownerState:k}),[xe,he]=M("transition",{elementType:Ae,externalForwardedProps:D,getSlotProps:C=>({onEnter:(...x)=>{C.onEnter?.(...x),ie(...x)},onExited:(...x)=>{C.onExited?.(...x),ae(...x)}}),additionalProps:{appear:!0,in:T,timeout:W,direction:d==="top"?"down":"up"},ownerState:k});return!T&&re?null:t.jsx(ue,{...pe,...w.clickAwayListener&&{ownerState:de},children:t.jsx(le,{...ce,children:t.jsx(xe,{...he,children:g||t.jsx(ge,{...me})})})})}),mt=b(Oe)(({theme:e})=>({display:"flex",flexDirection:"column",alignSelf:"center",width:"100%",padding:e.spacing(4),gap:e.spacing(2),margin:"auto",[e.breakpoints.up("sm")]:{maxWidth:"450px"},boxShadow:"hsla(220, 30%, 5%, 0.05) 0px 5px 15px 0px, hsla(220, 25%, 10%, 0.05) 0px 15px 35px -5px",...e.applyStyles("dark",{boxShadow:"hsla(220, 30%, 5%, 0.5) 0px 5px 15px 0px, hsla(220, 25%, 10%, 0.08) 0px 15px 35px -5px"})})),xt=b(Ie)(({theme:e})=>({height:"calc((1 - var(--template-frame-height, 0)) * 100dvh)",minHeight:"100%",padding:e.spacing(2),[e.breakpoints.up("sm")]:{padding:e.spacing(4)},"&::before":{content:'""',display:"block",position:"absolute",zIndex:-1,inset:0,backgroundImage:"radial-gradient(ellipse at 50% 50%, hsl(210, 100%, 97%), hsl(0, 0%, 100%))",backgroundRepeat:"no-repeat",...e.applyStyles("dark",{backgroundImage:"radial-gradient(at 50% 50%, hsla(210, 100%, 16%, 0.5), hsl(220, 30%, 5%))"})}})),kt=Ce(function(o){const{register:n,handleSubmit:r}=$e({defaultValues:{username:"",password:""}}),[i,u]=l.useState(!1),[c,d]=l.useState(""),[p,m]=l.useState(!1),[g,f]=l.useState(""),[y,j]=l.useState(!1),[S,E]=l.useState(""),[O,s]=l.useState(!1),a=be(),h=()=>{s(!0)},P=()=>{s(!1)},T=I=>{const w=new URLSearchParams;w.append("username",I.username),w.append("password",I.password),ot.post("/login",w).then(()=>a("/")).catch(U=>{U.response?.status===401&&alert("Login failed. Please double check you're using the correct credentials for your account.")})};return t.jsxs(Ue,{...o,children:[t.jsx(ze,{enableColorScheme:!0}),t.jsxs(xt,{direction:"column",justifyContent:"space-between",children:[t.jsx(Ge,{sx:{position:"fixed",top:"1rem",right:"1rem"}}),t.jsxs(mt,{variant:"outlined",children:[t.jsx(qe,{}),t.jsx(L,{component:"h1",variant:"h4",sx:{width:"100%",fontSize:"clamp(2rem, 10vw, 2.15rem)"},children:"Sign in"}),t.jsxs(Z,{component:"form",onSubmit:r(T),noValidate:!0,sx:{display:"flex",flexDirection:"column",width:"100%",gap:2},children:[t.jsxs(J,{children:[t.jsx(Q,{htmlFor:"username",children:"Username"}),t.jsx(Y,{error:i,helperText:c,id:"username",type:"username",...n("username"),placeholder:"your username",autoComplete:"username",autoFocus:!0,required:!0,fullWidth:!0,variant:"outlined",color:i?"error":"primary"})]}),t.jsxs(J,{children:[t.jsx(Q,{htmlFor:"password",children:"Password"}),t.jsx(Y,{error:p,helperText:g,...n("password"),placeholder:"••••••",type:"password",id:"password",autoComplete:"current-password",autoFocus:!0,required:!0,fullWidth:!0,variant:"outlined",color:p?"error":"primary"})]}),t.jsx(Be,{control:t.jsx(Ne,{value:"remember",color:"primary"}),label:"Remember me"}),t.jsx(tt,{open:O,handleClose:P}),t.jsx(v,{type:"submit",fullWidth:!0,variant:"contained",children:"Sign in"}),t.jsx(gt,{open:y,autoHideDuration:6e3,onClose:P,children:t.jsx(Pe,{onClose:P,sx:{width:"100%"},children:S})}),t.jsx(Te,{component:"button",type:"button",onClick:h,variant:"body2",sx:{alignSelf:"center"},children:"Forgot your password?"})]}),t.jsx(He,{children:"or"}),t.jsxs(Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:[t.jsx(v,{fullWidth:!0,variant:"outlined",onClick:()=>alert("Sign in with Google"),startIcon:t.jsx(Ke,{}),children:"Sign in with Google"}),t.jsx(v,{fullWidth:!0,variant:"outlined",onClick:()=>alert("Sign in with Facebook"),startIcon:t.jsx(Ve,{}),children:"Sign in with Facebook"}),t.jsxs(L,{sx:{textAlign:"center"},children:["Don't have an account?"," ",t.jsx(we,{to:"/registration",children:"Click me"})]})]})]})]})]})});export{kt as default};
