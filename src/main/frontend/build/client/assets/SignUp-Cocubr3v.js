import{q as A,a as r,p as e,y as D}from"./chunk-UIGDSWPH-BdVHQBBT.js";import{s as E,H as z,S as G,I as J,J as V,K as H,L as $,N as K,T as d,Q as f,R as n,U as l,V as i,W as O,X as Q,n as u,$ as X,Y,Z,_,t as ee}from"./index.esm-DbL5WumE.js";import"./index-dZFLAzK9.js";const re=E(z)(({theme:a})=>({display:"flex",flexDirection:"column",alignSelf:"center",width:"100%",padding:a.spacing(4),gap:a.spacing(2),margin:"auto",boxShadow:"hsla(220, 30%, 5%, 0.05) 0px 5px 15px 0px, hsla(220, 25%, 10%, 0.05) 0px 15px 35px -5px",[a.breakpoints.up("sm")]:{width:"450px"},...a.applyStyles("dark",{boxShadow:"hsla(220, 30%, 5%, 0.5) 0px 5px 15px 0px, hsla(220, 25%, 10%, 0.08) 0px 15px 35px -5px"})})),ae=E(G)(({theme:a})=>({height:"calc((1 - var(--template-frame-height, 0)) * 100dvh)",minHeight:"100%",padding:a.spacing(2),[a.breakpoints.up("sm")]:{padding:a.spacing(4)},"&::before":{content:'""',display:"block",position:"absolute",zIndex:-1,inset:0,backgroundImage:"radial-gradient(ellipse at 50% 50%, hsl(210, 100%, 97%), hsl(0, 0%, 100%))",backgroundRepeat:"no-repeat",...a.applyStyles("dark",{backgroundImage:"radial-gradient(at 50% 50%, hsla(210, 100%, 16%, 0.5), hsl(220, 30%, 5%))"})}})),xe=A(function(b){const{register:t,handleSubmit:y}=J({defaultValues:{username:"",name:"",email:"",password:"",passwordRepeated:""}}),[C,m]=r.useState(!1),[v,h]=r.useState(""),[p,se]=r.useState(!1),[k,oe]=r.useState(""),[x,te]=r.useState(!1),[R,ne]=r.useState(""),[g,le]=r.useState(!1),[F,ie]=r.useState(""),[S,de]=r.useState(!1),[M,pe]=r.useState(""),[w,I]=r.useState(!1),[T,W]=r.useState(""),[P,j]=r.useState(null),U=!!w?"simple-popover":void 0,q=s=>{j(s.currentTarget)},L=()=>{j(null)},B=()=>{const s=document.getElementById("email");let c=!0;return!s.value||!/\S+@\S+\.\S+/.test(s.value)?(m(!0),h("Please enter a valid email address."),c=!1):(m(!1),h("")),c},N=s=>{ee.create({baseURL:"/",headers:{"Content-Type":"application/json"},maxRedirects:0}).post("/registration",s).then(o=>{o.headers["Content-Type"]!=="application/json"&&(window.location.href=o.headers.Location),console.log(o)}).catch(o=>{console.log(o),I(!0),W(o)})};return e.jsxs(V,{...b,children:[e.jsx(H,{enableColorScheme:!0}),e.jsx($,{sx:{position:"fixed",top:"1rem",right:"1rem"}}),e.jsx(ae,{direction:"column",justifyContent:"space-between",children:e.jsxs(re,{variant:"outlined",children:[e.jsx(K,{}),e.jsx(d,{component:"h1",variant:"h4",sx:{width:"100%",fontSize:"clamp(2rem, 10vw, 2.15rem)"},children:"Sign up"}),e.jsxs(f,{component:"form",onSubmit:y(N),sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsxs(n,{children:[e.jsx(l,{htmlFor:"name",children:"Username"}),e.jsx(i,{autoComplete:"username",...t("username"),required:!0,fullWidth:!0,id:"username",placeholder:"JonSnow45",error:g,helperText:F,color:g?"error":"primary"})]}),e.jsxs(n,{children:[e.jsx(l,{htmlFor:"name",children:"Name"}),e.jsx(i,{autoComplete:"name",required:!0,fullWidth:!0,id:"name",placeholder:"Jon Snow",error:x,helperText:R,color:x?"error":"primary",...t("name")})]}),e.jsxs(n,{children:[e.jsx(l,{htmlFor:"email",children:"Email"}),e.jsx(i,{required:!0,fullWidth:!0,...t("email"),placeholder:"your@email.com",id:"email",autoComplete:"email",variant:"outlined",error:C,helperText:v,color:p?"error":"primary"})]}),e.jsxs(n,{children:[e.jsx(l,{htmlFor:"password",children:"Password"}),e.jsx(i,{required:!0,fullWidth:!0,...t("password"),placeholder:"••••••",type:"password",id:"password",autoComplete:"new-password",variant:"outlined",error:p,helperText:k,color:p?"error":"primary"})]}),e.jsxs(n,{children:[e.jsx(l,{htmlFor:"passwordRepeated",children:"Repeat password"}),e.jsx(i,{required:!0,fullWidth:!0,...t("passwordRepeated"),placeholder:"••••••",type:"password",id:"passwordRepeated",autoComplete:"new-passwordRepeated",variant:"outlined",error:S,helperText:M,color:S?"error":"primary",onChange:B})]}),e.jsx(O,{control:e.jsx(Q,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive updates via email."}),e.jsx(u,{type:"submit",fullWidth:!0,variant:"contained",onClick:q,children:"Sign up"}),e.jsx(X,{id:U,open:w,anchorEl:P,onClose:L,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:e.jsx(d,{sx:{p:2},children:T})})]}),e.jsx(Y,{children:e.jsx(d,{sx:{color:"text.secondary"},children:"or"})}),e.jsxs(f,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsx(u,{fullWidth:!0,variant:"outlined",onClick:()=>alert("Sign up with Google"),startIcon:e.jsx(Z,{}),children:"Sign up with Google"}),e.jsx(u,{fullWidth:!0,variant:"outlined",onClick:()=>alert("Sign up with Facebook"),startIcon:e.jsx(_,{}),children:"Sign up with Facebook"}),e.jsxs(d,{sx:{textAlign:"center"},children:["Already have an account?"," ",e.jsx(D,{to:"/login",children:"Click me"})]})]})]})})]})});export{xe as default};
